# 로그 레벨 정리

## 로그의 개념

**logging은 프로그램을 디버깅 혹은 사용 중에 발생하는 오류를 모니터링하기 위해 필요한 정보(log)를 기록하는 행위**

## 로그 레벨 종류
**Log4j (Log for Java)를 기준으로 작성**  

log4j는 출력 레벨을 설정할 수 있음. 출력 레벨을 설정하면 설정된 레벨보다 낮은 레벨의 logging은 출력되지 않음  

현업에서는 엄청난 양의 log가 쏟아져서 관리가 어렵다.  
따라서 레벨을 설정하여 사소한 log는 출력하지 않도록 함  

로그 환경설정 파일에 대상별(자바 패키지)로 로그 레벨 설정이 가능하고, 설정한 레벨 이상의 로그만 저장하는 방식  

### Log4j 구조  
<br>

| 요소 | 설명 |
| --- | --- |
| Logger | 출력할 메시지를 Appender에 전달한다. |
| Appender |  전달된 로그를 어디에 출력할 지 결정한다. (콘솔 출력, 파일 기록, DB 저장 등) |
| Layout | 로그를 어떤 형식으로 출력할 지 결정한다. |


#### 단점  
- 로그에 대한 입출력으로 인해 런타임 오버헤드가 증가한다.  
- 로깅을 위한 추가 코드로 인해 전체 코드가 증가한다.  
- 로그가 많이 생성되면 성능에 영향을 미친다.  

* * *

## 로그 레벨

#### 1. FATAL   
- 시스템적으로 문제가 발생해서 어플리케이션 작동이 불가능할 경우  
- 갑작스런 종료를 유발하는 심각한 오류  
- 일반적으로 어플리케이션에서는 사용할 일이 없음  

#### 2. ERROR  
- 요청을 처리하는 중 문제가 발생한 상태  
- 기타 런타임 오류 또는 예기치 않은 상황  

#### 3. WARN  
- 처리 가능한 문제이지만 향후 시스템 에러의 원인이 될 수 있는 경고성 메시지  

#### 4. INFO  
- 로그인, 상태 변경과 같은 정보성 메시지  
- 관심 대상인 이벤트 (시작/중지 등). 콘솔에 출력되므로 최소한으로 유지해야 함  

#### 5. DEBUG  
- 개발시 디버그 용도로 사용하는 메시지  
- 시스템 흐름에 관한 자세한 정보. 로그 파일에만 기록됨  

#### 6. TRACE   
- log4j 1.2.12에서 신규 추가된 레벨  
- DEBUG 레벨을 좀 더 상세한 상태로 나타냄  

## 사용 상황 고민들  
- WARN은 레벨의 개념이 모호하여 실제로는 거의 사용하지 않는 것 같다.  
-   

<br>
<br>

* * *

참고  
https://the-boxer.tistory.com/2  
https://addio3305.tistory.com/43  
https://cofs.tistory.com/354  
https://zetawiki.com/wiki/Log4j_1_로그_레벨  
https://hongkyu.tistory.com/76  